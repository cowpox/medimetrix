<div th:fragment="content">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="h5 mb-0">Catálogo • Critérios</h2>
        <a class="btn btn-success" th:href="@{/app/catalogo/criterios/novo}">Novo</a>
    </div>

    <table class="table table-hover align-middle">
        <thead>
        <tr>
            <th class="text-center" style="width: 70px;">Ordem</th>
            <th>Nome</th>
            <th>Definição Operacional</th>
            <th class="text-center" style="width: 80px;">Peso</th>
            <th class="text-center" style="width: 100px;">Status</th>
            <th class="text-end" style="width: 180px;">Ações</th>
        </tr>
        </thead>
        <tbody>

        <tr th:each="c : ${criterios}">
            <!-- Ordem (setas ainda só visuais, lógica vem depois) -->
            <td class="text-center">
                <div class="btn-group btn-group-sm" role="group">
                    <form th:action="@{'/app/catalogo/criterios/' + ${c.idCriterio} + '/up'}"
                          method="post" class="d-inline">
                        <button type="submit" class="btn btn-outline-secondary"
                                title="Mover para cima">
                            <i class="bi bi-chevron-up"></i>
                        </button>
                    </form>

                    <form th:action="@{'/app/catalogo/criterios/' + ${c.idCriterio} + '/down'}"
                          method="post" class="d-inline">
                        <button type="submit" class="btn btn-outline-secondary"
                                title="Mover para baixo">
                            <i class="bi bi-chevron-down"></i>
                        </button>
                    </form>
                </div>
            </td>


            <td th:text="${c.nome}">Nome</td>
            <td th:text="${c.definicaoOperacional}">Definição operacional</td>

            <td class="text-center" th:text="${c.peso}">1,00</td>

            <td class="text-center">
                <span class="badge"
                      th:text="${c.ativo} ? 'Ativo' : 'Inativo'"
                      th:classappend="${c.ativo} ? ' text-bg-success' : ' text-bg-secondary'">
                    Ativo
                </span>
            </td>

            <td class="text-end">
                <a class="btn btn-sm btn-outline-primary me-1"
                   th:href="@{'/app/catalogo/criterios/' + ${c.idCriterio} + '/editar'}">Editar</a>

                <form th:action="@{'/app/catalogo/criterios/' + ${c.idCriterio} + '/excluir'}"
                      method="post" class="d-inline">
                    <button type="submit" class="btn btn-sm btn-outline-danger"
                            onclick="return confirm('Confirma desativar este critério?');">
                        Excluir
                    </button>
                </form>
            </td>
        </tr>

        </tbody>
    </table>
</div>
